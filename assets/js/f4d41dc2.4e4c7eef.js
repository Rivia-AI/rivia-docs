"use strict";(globalThis.webpackChunkrivia_docs=globalThis.webpackChunkrivia_docs||[]).push([[8665],{2586:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"guides/terraform-best-practices","title":"Terraform Best Practices","description":"Best practices for writing and maintaining Terraform code.","source":"@site/docs/guides/terraform-best-practices.md","sourceDirName":"guides","slug":"/guides/terraform-best-practices","permalink":"/guides/terraform-best-practices","draft":false,"unlisted":false,"editUrl":"https://github.com/Rivia-AI/rivia-docs/tree/main/docs/guides/terraform-best-practices.md","tags":[],"version":"current","lastUpdatedBy":"Richard Augenti","lastUpdatedAt":1765069090000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"guidesSidebar","previous":{"title":"Security & Compliance","permalink":"/guides/security-compliance"},"next":{"title":"Module Development","permalink":"/guides/module-development"}}');var s=i(4848),a=i(8453);const t={sidebar_position:2},l="Terraform Best Practices",c={},d=[{value:"Code Organization",id:"code-organization",level:2},{value:"Module Structure",id:"module-structure",level:3},{value:"File Naming",id:"file-naming",level:3},{value:"Variable Design",id:"variable-design",level:2},{value:"Good Practices",id:"good-practices",level:3},{value:"Avoid",id:"avoid",level:3},{value:"Output Design",id:"output-design",level:2},{value:"Good Practices",id:"good-practices-1",level:3},{value:"Resource Naming",id:"resource-naming",level:2},{value:"State Management",id:"state-management",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Documentation",id:"documentation",level:2},{value:"Learn More",id:"learn-more",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"terraform-best-practices",children:"Terraform Best Practices"})}),"\n",(0,s.jsx)(n.p,{children:"Best practices for writing and maintaining Terraform code."}),"\n",(0,s.jsx)(n.h2,{id:"code-organization",children:"Code Organization"}),"\n",(0,s.jsx)(n.h3,{id:"module-structure",children:"Module Structure"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"module-name/\n\u251c\u2500\u2500 main.tf          # Main resources\n\u251c\u2500\u2500 variables.tf      # Input variables\n\u251c\u2500\u2500 outputs.tf        # Output values\n\u251c\u2500\u2500 versions.tf       # Provider requirements\n\u251c\u2500\u2500 README.md         # Documentation\n\u251c\u2500\u2500 CHANGELOG.md      # Version history\n\u2514\u2500\u2500 examples/         # Usage examples\n    \u2514\u2500\u2500 basic/\n        \u2514\u2500\u2500 main.tf\n"})}),"\n",(0,s.jsx)(n.h3,{id:"file-naming",children:"File Naming"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use descriptive names: ",(0,s.jsx)(n.code,{children:"network.tf"}),", ",(0,s.jsx)(n.code,{children:"storage.tf"})]}),"\n",(0,s.jsx)(n.li,{children:"Group related resources together"}),"\n",(0,s.jsx)(n.li,{children:"Keep files focused and manageable"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"variable-design",children:"Variable Design"}),"\n",(0,s.jsx)(n.h3,{id:"good-practices",children:"Good Practices"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-hcl",children:'variable "resource_group_name" {\n  description = "The name of the resource group"\n  type        = string\n  \n  validation {\n    condition     = can(regex("^[a-z0-9-]+$", var.resource_group_name))\n    error_message = "Resource group name must contain only lowercase letters, numbers, and hyphens."\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"avoid",children:"Avoid"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Overly generic variable names"}),"\n",(0,s.jsx)(n.li,{children:"Missing descriptions"}),"\n",(0,s.jsx)(n.li,{children:"No validation"}),"\n",(0,s.jsx)(n.li,{children:"Hardcoded values"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"output-design",children:"Output Design"}),"\n",(0,s.jsx)(n.h3,{id:"good-practices-1",children:"Good Practices"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-hcl",children:'output "resource_id" {\n  description = "The ID of the created resource"\n  value       = azurerm_resource.example.id\n  sensitive   = false\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"resource-naming",children:"Resource Naming"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use consistent naming conventions"}),"\n",(0,s.jsx)(n.li,{children:"Include environment/region when applicable"}),"\n",(0,s.jsx)(n.li,{children:"Avoid special characters"}),"\n",(0,s.jsx)(n.li,{children:"Keep names descriptive but concise"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"state-management",children:"State Management"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use remote state backends"}),"\n",(0,s.jsx)(n.li,{children:"Enable state locking"}),"\n",(0,s.jsx)(n.li,{children:"Never commit state files"}),"\n",(0,s.jsx)(n.li,{children:"Use workspaces for environments"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"precondition"})," and ",(0,s.jsx)(n.code,{children:"postcondition"})," blocks"]}),"\n",(0,s.jsxs)(n.li,{children:["Validate inputs with ",(0,s.jsx)(n.code,{children:"validation"})," blocks"]}),"\n",(0,s.jsx)(n.li,{children:"Provide clear error messages"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"documentation",children:"Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Document all variables and outputs"}),"\n",(0,s.jsx)(n.li,{children:"Include usage examples"}),"\n",(0,s.jsx)(n.li,{children:"Keep README up to date"}),"\n",(0,s.jsx)(n.li,{children:"Document breaking changes"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"learn-more",children:"Learn More"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/guides/module-development",children:"Module Development"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/guides/ci-cd",children:"CI/CD Best Practices"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>l});var r=i(6540);const s={},a=r.createContext(s);function t(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);