"use strict";(globalThis.webpackChunkrivia_docs=globalThis.webpackChunkrivia_docs||[]).push([[6754],{8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>d});var r=i(6540);const s={},l=r.createContext(s);function t(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(l.Provider,{value:n},e.children)}},8670:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"guides/module-development","title":"Module Development","description":"Guidelines for developing Terraform modules.","source":"@site/docs/guides/module-development.md","sourceDirName":"guides","slug":"/guides/module-development","permalink":"/guides/module-development","draft":false,"unlisted":false,"editUrl":"https://github.com/Rivia-AI/rivia-docs/tree/main/docs/guides/module-development.md","tags":[],"version":"current","lastUpdatedBy":"Richard Augenti","lastUpdatedAt":1765069090000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"guidesSidebar","previous":{"title":"Terraform Best Practices","permalink":"/guides/terraform-best-practices"},"next":{"title":"CI/CD Guide","permalink":"/guides/ci-cd"}}');var s=i(4848),l=i(8453);const t={sidebar_position:3},d="Module Development",a={},o=[{value:"Getting Started",id:"getting-started",level:2},{value:"Module Structure",id:"module-structure",level:2},{value:"Required Files",id:"required-files",level:3},{value:"Optional Files",id:"optional-files",level:3},{value:"Development Workflow",id:"development-workflow",level:2},{value:"Code Standards",id:"code-standards",level:2},{value:"Formatting",id:"formatting",level:3},{value:"Validation",id:"validation",level:3},{value:"Linting",id:"linting",level:3},{value:"Security Scanning",id:"security-scanning",level:3},{value:"Testing",id:"testing",level:2},{value:"Plan Testing",id:"plan-testing",level:3},{value:"Integration Testing",id:"integration-testing",level:3},{value:"Documentation",id:"documentation",level:2},{value:"README.md",id:"readmemd",level:3},{value:"CHANGELOG.md",id:"changelogmd",level:3},{value:"Versioning",id:"versioning",level:2},{value:"Learn More",id:"learn-more",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"module-development",children:"Module Development"})}),"\n",(0,s.jsx)(n.p,{children:"Guidelines for developing Terraform modules."}),"\n",(0,s.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,s.jsx)(n.p,{children:"Use our template repositories as a starting point:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/Rivia-AI/terraform-azure-template",children:"terraform-azure-template"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/Rivia-AI/terraform-aws-template",children:"terraform-aws-template"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/Rivia-AI/terraform-gcp-template",children:"terraform-gcp-template"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"module-structure",children:"Module Structure"}),"\n",(0,s.jsx)(n.h3,{id:"required-files",children:"Required Files"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"main.tf"}),": Main resource definitions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"variables.tf"}),": Input variables"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"outputs.tf"}),": Output values"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"versions.tf"}),": Provider requirements"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"README.md"}),": Documentation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"CHANGELOG.md"}),": Version history"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:".gitignore"}),": Git ignore rules"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:".checkov.yml"}),": Checkov configuration"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"optional-files",children:"Optional Files"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"examples/"}),": Usage examples"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"tests/"}),": Test configurations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"LICENSE"}),": License file"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"development-workflow",children:"Development Workflow"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Create feature branch"}),": ",(0,s.jsx)(n.code,{children:"git checkout -b feature/new-module"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Write code"}),": Implement module functionality"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Add tests"}),": Create test configurations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Update documentation"}),": Keep README and CHANGELOG updated"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Run checks"}),": Format, validate, lint, scan"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Create PR"}),": Submit pull request for review"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Merge"}),": After approval, merge to ",(0,s.jsx)(n.code,{children:"dev"})," branch"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"code-standards",children:"Code Standards"}),"\n",(0,s.jsx)(n.h3,{id:"formatting",children:"Formatting"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"terraform fmt -recursive\n"})}),"\n",(0,s.jsx)(n.h3,{id:"validation",children:"Validation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"terraform init\nterraform validate\n"})}),"\n",(0,s.jsx)(n.h3,{id:"linting",children:"Linting"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"tflint --init\ntflint\n"})}),"\n",(0,s.jsx)(n.h3,{id:"security-scanning",children:"Security Scanning"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"checkov -d . --framework terraform --framework cis_azure\n"})}),"\n",(0,s.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,s.jsx)(n.h3,{id:"plan-testing",children:"Plan Testing"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"terraform init\nterraform plan\n"})}),"\n",(0,s.jsx)(n.h3,{id:"integration-testing",children:"Integration Testing"}),"\n",(0,s.jsx)(n.p,{children:"Consider using Terratest for comprehensive testing:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package test\n\nimport (\n    "testing"\n    "github.com/gruntwork-io/terratest/modules/terraform"\n)\n\nfunc TestModule(t *testing.T) {\n    terraformOptions := &terraform.Options{\n        TerraformDir: "../examples/basic",\n    }\n    \n    defer terraform.Destroy(t, terraformOptions)\n    terraform.InitAndApply(t, terraformOptions)\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"documentation",children:"Documentation"}),"\n",(0,s.jsx)(n.h3,{id:"readmemd",children:"README.md"}),"\n",(0,s.jsx)(n.p,{children:"Include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Module description"}),"\n",(0,s.jsx)(n.li,{children:"Usage examples"}),"\n",(0,s.jsx)(n.li,{children:"Input/output documentation"}),"\n",(0,s.jsx)(n.li,{children:"Requirements"}),"\n",(0,s.jsx)(n.li,{children:"Examples"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"changelogmd",children:"CHANGELOG.md"}),"\n",(0,s.jsx)(n.p,{children:"Document all changes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-markdown",children:"## [1.0.0] - 2024-01-01\n\n### Added\n- Initial release\n\n### Changed\n- N/A\n\n### Fixed\n- N/A\n"})}),"\n",(0,s.jsx)(n.h2,{id:"versioning",children:"Versioning"}),"\n",(0,s.jsx)(n.p,{children:"Follow semantic versioning:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"MAJOR"}),": Breaking changes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"MINOR"}),": New features (backward compatible)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"PATCH"}),": Bug fixes (backward compatible)"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"learn-more",children:"Learn More"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/guides/terraform-best-practices",children:"Terraform Best Practices"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/guides/ci-cd",children:"CI/CD Guide"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/devops-foundations/testing",children:"Testing Guide"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);