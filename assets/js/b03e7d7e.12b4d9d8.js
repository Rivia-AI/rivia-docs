"use strict";(globalThis.webpackChunkrivia_docs=globalThis.webpackChunkrivia_docs||[]).push([[7672],{1257:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"guides/ci-cd","title":"CI/CD Guide","description":"Comprehensive guide to CI/CD workflows for Terraform modules.","source":"@site/docs/guides/ci-cd.md","sourceDirName":"guides","slug":"/guides/ci-cd","permalink":"/guides/ci-cd","draft":false,"unlisted":false,"editUrl":"https://github.com/Rivia-AI/rivia-docs/tree/main/docs/guides/ci-cd.md","tags":[],"version":"current","lastUpdatedBy":"Richard Augenti","lastUpdatedAt":1765069090000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"guidesSidebar","previous":{"title":"Module Development","permalink":"/guides/module-development"},"next":{"title":"GitHub Actions","permalink":"/guides/github-actions"}}');var s=i(4848),l=i(8453);const o={sidebar_position:4},d="CI/CD Guide",a={},c=[{value:"Overview",id:"overview",level:2},{value:"Workflow Files",id:"workflow-files",level:2},{value:"PR Validation (<code>checkov-pr.yml</code>)",id:"pr-validation-checkov-pryml",level:3},{value:"Release (<code>release.yml</code>)",id:"release-releaseyml",level:3},{value:"Workflow Triggers",id:"workflow-triggers",level:2},{value:"Pull Requests",id:"pull-requests",level:3},{value:"Releases",id:"releases",level:3},{value:"Jobs",id:"jobs",level:2},{value:"Terraform Validation",id:"terraform-validation",level:3},{value:"TFLint",id:"tflint",level:3},{value:"Checkov",id:"checkov",level:3},{value:"terraform-docs",id:"terraform-docs",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Customization",id:"customization",level:2},{value:"Adding New Checks",id:"adding-new-checks",level:3},{value:"Modifying Triggers",id:"modifying-triggers",level:3},{value:"Learn More",id:"learn-more",level:2}];function t(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"cicd-guide",children:"CI/CD Guide"})}),"\n",(0,s.jsx)(n.p,{children:"Comprehensive guide to CI/CD workflows for Terraform modules."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"All Rivia modules include pre-configured GitHub Actions workflows for continuous integration and deployment."}),"\n",(0,s.jsx)(n.h2,{id:"workflow-files",children:"Workflow Files"}),"\n",(0,s.jsxs)(n.h3,{id:"pr-validation-checkov-pryml",children:["PR Validation (",(0,s.jsx)(n.code,{children:"checkov-pr.yml"}),")"]}),"\n",(0,s.jsx)(n.p,{children:"Runs on pull requests to validate code quality:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Terraform formatting"}),"\n",(0,s.jsx)(n.li,{children:"Terraform validation"}),"\n",(0,s.jsx)(n.li,{children:"TFLint analysis"}),"\n",(0,s.jsx)(n.li,{children:"Checkov security scanning"}),"\n",(0,s.jsx)(n.li,{children:"terraform-docs verification"}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"release-releaseyml",children:["Release (",(0,s.jsx)(n.code,{children:"release.yml"}),")"]}),"\n",(0,s.jsx)(n.p,{children:"Automates version releases:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Detects version changes"}),"\n",(0,s.jsx)(n.li,{children:"Creates Git tags"}),"\n",(0,s.jsx)(n.li,{children:"Creates GitHub releases"}),"\n",(0,s.jsx)(n.li,{children:"Generates release notes"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"workflow-triggers",children:"Workflow Triggers"}),"\n",(0,s.jsx)(n.h3,{id:"pull-requests",children:"Pull Requests"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"on:\n  pull_request:\n    branches:\n      - main\n      - dev\n    paths:\n      - '*.tf'\n      - '*.tfvars'\n      - '.checkov.yml'\n"})}),"\n",(0,s.jsx)(n.h3,{id:"releases",children:"Releases"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"on:\n  push:\n    branches:\n      - main\n    paths:\n      - 'VERSION'\n"})}),"\n",(0,s.jsx)(n.h2,{id:"jobs",children:"Jobs"}),"\n",(0,s.jsx)(n.h3,{id:"terraform-validation",children:"Terraform Validation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"- name: Terraform Format Check\n  run: terraform fmt -check -recursive\n\n- name: Terraform Init\n  run: terraform init -backend=false\n\n- name: Terraform Validate\n  run: terraform validate\n"})}),"\n",(0,s.jsx)(n.h3,{id:"tflint",children:"TFLint"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"- name: Run TFLint\n  run: tflint --init && tflint\n"})}),"\n",(0,s.jsx)(n.h3,{id:"checkov",children:"Checkov"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"- name: Run Checkov\n  run: |\n    checkov -d . \\\n      --framework terraform \\\n      --framework cis_azure \\\n      --soft-fail \\\n      --compact\n"})}),"\n",(0,s.jsx)(n.h3,{id:"terraform-docs",children:"terraform-docs"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'- name: Generate documentation\n  run: |\n    terraform-docs markdown table \\\n      --output-file README.md \\\n      --output-mode inject .\n\n- name: Verify README.md is up to date\n  run: |\n    if [ -n "$(git status --porcelain README.md)" ]; then\n      echo "README.md is out of date"\n      exit 1\n    fi\n'})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Run checks locally"}),": Always run checks before pushing"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fix before merge"}),": Address all failing checks"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Keep docs updated"}),": Run terraform-docs before committing"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Review security findings"}),": Address Checkov findings"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use semantic versioning"}),": Follow versioning guidelines"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"customization",children:"Customization"}),"\n",(0,s.jsx)(n.h3,{id:"adding-new-checks",children:"Adding New Checks"}),"\n",(0,s.jsx)(n.p,{children:"Add new steps to workflow files:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"- name: Custom Check\n  run: |\n    # Your custom check here\n"})}),"\n",(0,s.jsx)(n.h3,{id:"modifying-triggers",children:"Modifying Triggers"}),"\n",(0,s.jsxs)(n.p,{children:["Update ",(0,s.jsx)(n.code,{children:"on:"})," section to change when workflows run:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"on:\n  pull_request:\n    branches: ['main', 'dev']\n  push:\n    branches: ['main']\n"})}),"\n",(0,s.jsx)(n.h2,{id:"learn-more",children:"Learn More"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.github.com/actions",children:"GitHub Actions Documentation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/guides/static-analysis",children:"Static Analysis Guide"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/devops-foundations/ci-cd",children:"DevOps Foundations"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>d});var r=i(6540);const s={},l=r.createContext(s);function o(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);